// DPA Intelligence™ — Seeded Program Database
// Source: Publicly available state HFA and program data
// Replace with DPR API integration when contract is executed

export const DPA_PROGRAMS = [

  // ─── GEORGIA ───────────────────────────────────────────────────────────────
  {
    id: "GA-001",
    name: "Georgia Dream Homeownership Program",
    adminEntity: "Georgia Department of Community Affairs",
    state: "GA",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "deferred_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: 10000,
    maxAssistancePct: null,
    maxPurchasePrice: 350000,
    minCreditScore: 640,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 80,
    incomeLimitDollar: { 1: 72400, 2: 82750, 3: 93100, 4: 103400 },
    firstTimeBuyerRequired: true,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    canBeLayered: "yes",
    layeringNotes: "Can be combined with Georgia Dream PEN and CHOICE grants",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-15",
  },
  {
    id: "GA-002",
    name: "Georgia Dream PEN Loan",
    adminEntity: "Georgia Department of Community Affairs",
    state: "GA",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "deferred_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: 20000,
    maxAssistancePct: null,
    maxPurchasePrice: 350000,
    minCreditScore: 640,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 80,
    incomeLimitDollar: { 1: 72400, 2: 82750, 3: 93100, 4: 103400 },
    firstTimeBuyerRequired: true,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    specialCategories: ["public_employee", "military", "healthcare"],
    canBeLayered: "yes",
    layeringNotes: "Must be combined with Georgia Dream first mortgage",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-15",
  },

  // ─── TEXAS ─────────────────────────────────────────────────────────────────
  {
    id: "TX-001",
    name: "My First Texas Home",
    adminEntity: "Texas Department of Housing and Community Affairs",
    state: "TX",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "deferred_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: null,
    maxAssistancePct: 5,
    maxPurchasePrice: 294600,
    minCreditScore: 620,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 115,
    incomeLimitDollar: { 1: 90000, 2: 103000, 3: 115800, 4: 128600 },
    firstTimeBuyerRequired: true,
    loanTypesEligible: ["FHA", "VA", "USDA"],
    canBeLayered: "yes",
    layeringNotes: "Can be combined with Texas Mortgage Credit Certificate",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-20",
  },
  {
    id: "TX-002",
    name: "TSAHC Home Sweet Texas",
    adminEntity: "Texas State Affordable Housing Corporation",
    state: "TX",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "grant",
    fundingSource: "nonprofit_endowment",
    maxAssistanceFlat: null,
    maxAssistancePct: 5,
    maxPurchasePrice: 350000,
    minCreditScore: 620,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 80,
    incomeLimitDollar: { 1: 69600, 2: 79600, 3: 89500, 4: 99400 },
    firstTimeBuyerRequired: false,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    canBeLayered: "conditional",
    layeringNotes: "Cannot be combined with other TSAHC programs; may layer with local grants",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-20",
  },

  // ─── FLORIDA ───────────────────────────────────────────────────────────────
  {
    id: "FL-001",
    name: "Florida Assist (FL Assist)",
    adminEntity: "Florida Housing Finance Corporation",
    state: "FL",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "deferred_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: 10000,
    maxAssistancePct: null,
    maxPurchasePrice: 349525,
    minCreditScore: 640,
    incomeLimitType: "program_table",
    incomeLimitAmiPct: 80,
    incomeLimitDollar: { 1: 66560, 2: 76000, 3: 85520, 4: 94960 },
    firstTimeBuyerRequired: true,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    canBeLayered: "yes",
    layeringNotes: "Can be layered with Florida HLP Second Mortgage",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-18",
  },
  {
    id: "FL-002",
    name: "Florida HLP Second Mortgage",
    adminEntity: "Florida Housing Finance Corporation",
    state: "FL",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "deferred_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: 10000,
    maxAssistancePct: null,
    maxPurchasePrice: 349525,
    minCreditScore: 640,
    incomeLimitType: "program_table",
    incomeLimitAmiPct: 80,
    incomeLimitDollar: { 1: 66560, 2: 76000, 3: 85520, 4: 94960 },
    firstTimeBuyerRequired: true,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    canBeLayered: "yes",
    layeringNotes: "Can be combined with FL Assist; total assistance cannot exceed purchase price gap",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-18",
  },

  // ─── CALIFORNIA ────────────────────────────────────────────────────────────
  {
    id: "CA-001",
    name: "CalHFA MyHome Assistance Program",
    adminEntity: "California Housing Finance Agency",
    state: "CA",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "deferred_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: null,
    maxAssistancePct: 3.5,
    maxPurchasePrice: 660000,
    minCreditScore: 660,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 80,
    incomeLimitDollar: { 1: 91600, 2: 104700, 3: 117800, 4: 130800 },
    firstTimeBuyerRequired: true,
    loanTypesEligible: ["FHA", "Conventional"],
    canBeLayered: "yes",
    layeringNotes: "Can be combined with CalHFA Zero Interest Program (ZIP)",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-22",
  },
  {
    id: "CA-002",
    name: "CalHFA Zero Interest Program (ZIP)",
    adminEntity: "California Housing Finance Agency",
    state: "CA",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "deferred_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: null,
    maxAssistancePct: 3,
    maxPurchasePrice: 660000,
    minCreditScore: 660,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 80,
    incomeLimitDollar: { 1: 91600, 2: 104700, 3: 117800, 4: 130800 },
    firstTimeBuyerRequired: true,
    loanTypesEligible: ["FHA", "Conventional"],
    canBeLayered: "yes",
    layeringNotes: "Must be combined with CalHFA first mortgage; can layer with MyHome",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-22",
  },

  // ─── NORTH CAROLINA ────────────────────────────────────────────────────────
  {
    id: "NC-001",
    name: "NC Home Advantage Mortgage",
    adminEntity: "North Carolina Housing Finance Agency",
    state: "NC",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "forgivable_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: null,
    maxAssistancePct: 3,
    maxPurchasePrice: 385000,
    minCreditScore: 640,
    incomeLimitType: "dollar_cap",
    incomeLimitAmiPct: null,
    incomeLimitDollar: { ALL: 126000 },
    firstTimeBuyerRequired: false,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    canBeLayered: "yes",
    layeringNotes: "Can be combined with NC 1st Home Advantage Down Payment",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-10",
  },
  {
    id: "NC-002",
    name: "NC 1st Home Advantage Down Payment",
    adminEntity: "North Carolina Housing Finance Agency",
    state: "NC",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "forgivable_loan",
    fundingSource: "state_bond",
    maxAssistanceFlat: 15000,
    maxAssistancePct: null,
    maxPurchasePrice: 385000,
    minCreditScore: 640,
    incomeLimitType: "dollar_cap",
    incomeLimitAmiPct: null,
    incomeLimitDollar: { ALL: 126000 },
    firstTimeBuyerRequired: true,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    canBeLayered: "yes",
    layeringNotes: "Must be used with NC Home Advantage Mortgage first loan",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-10",
  },

  // ─── OHIO ───────────────────────────────────────────────────────────────────
  {
    id: "OH-001",
    name: "Ohio Your Choice! Down Payment Assistance",
    adminEntity: "Ohio Housing Finance Agency",
    state: "OH",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "grant",
    fundingSource: "state_bond",
    maxAssistanceFlat: null,
    maxAssistancePct: 5,
    maxPurchasePrice: 400000,
    minCreditScore: 640,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 80,
    incomeLimitDollar: { 1: 68400, 2: 78200, 3: 87900, 4: 97600 },
    firstTimeBuyerRequired: false,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    canBeLayered: "conditional",
    layeringNotes: "2.5% option is grant (stackable); 5% option becomes repayable second if sold/refinanced within 7 years",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-12",
  },

  // ─── NATIONAL ──────────────────────────────────────────────────────────────
  {
    id: "NAT-001",
    name: "Chenoa Fund — FHA Soft Second",
    adminEntity: "CBC Mortgage Agency",
    state: "ALL",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "forgivable_loan",
    fundingSource: "nonprofit_endowment",
    maxAssistanceFlat: null,
    maxAssistancePct: 3.5,
    maxPurchasePrice: null,
    minCreditScore: 620,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 135,
    incomeLimitDollar: null,
    firstTimeBuyerRequired: false,
    loanTypesEligible: ["FHA"],
    canBeLayered: "conditional",
    layeringNotes: "Cannot be combined with other secondary financing; covers FHA minimum 3.5% down payment",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-25",
  },
  {
    id: "NAT-002",
    name: "National Homebuyers Fund (NHF) Grant",
    adminEntity: "National Homebuyers Fund",
    state: "ALL",
    counties: ["ALL"],
    cities: ["ALL"],
    programType: "grant",
    fundingSource: "nonprofit_endowment",
    maxAssistanceFlat: null,
    maxAssistancePct: 5,
    maxPurchasePrice: null,
    minCreditScore: 640,
    incomeLimitType: "ami_percent",
    incomeLimitAmiPct: 115,
    incomeLimitDollar: null,
    firstTimeBuyerRequired: false,
    loanTypesEligible: ["FHA", "Conventional", "VA", "USDA"],
    canBeLayered: "yes",
    layeringNotes: "True grant — no repayment. Can be layered with state HFA programs where permitted.",
    active: true,
    source: "HFA_MANUAL",
    lastVerified: "2026-01-25",
  },
];

// ─── AMI REFERENCE DATA (HUD 2025) ─────────────────────────────────────────
// Simplified AMI by state for quick eligibility calculation
// Replace with full county-level HUD API data in Phase 2
export const STATE_AMI_REFERENCE = {
  GA: { median4Person: 103400 },
  TX: { median4Person: 111600 },
  FL: { median4Person: 99200 },
  CA: { median4Person: 163500 },
  NC: { median4Person: 100200 },
  OH: { median4Person: 97600 },
};

export const PROGRAM_TYPE_LABELS = {
  grant: "Grant (Never Repaid)",
  forgivable_loan: "Forgivable Loan",
  deferred_loan: "Deferred Loan",
  standard_second: "Second Mortgage",
  matched_savings: "Matched Savings",
  lender_grant: "Lender Grant",
};

export const PROGRAM_TYPE_PRIORITY = {
  grant: 1,
  forgivable_loan: 2,
  deferred_loan: 3,
  standard_second: 4,
  matched_savings: 5,
  lender_grant: 1,
};